<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/footers/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="./bootstrap-5.3.3-examples.zip" rel="stylesheet">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/perfil.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechShare - Perfil</title>
</head>

<body>
    <header class="p-3">
        <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <a href="./index.html">
                    <img src="./assets/newlogo.jfif" width="60" height="70" class="bi me-2" role="img" />
                </a>

                <ul class="nav navheader col-12 col-lg-auto me-lg-auto mb-2 mb-md-0">
                    <li><a href="./index.html" class="nav-link px-2">HOME</a></li>
                    <li><a href="./donate.html" class="nav-link px-2 ">DOAR</a></li>
                    <li><a href="./receive.html" class="nav-link px-2 ">RECEBER</a></li>
                    <li><a href="./fordonation.html" class="nav-link px-2 ">ITENS PARA DOAÇÃO</a></li>
                    <li><a href="./perfil.html" id="perfil" class="nav-link px-2">PERFIL</a></li>
                </ul>
                
                <div class="text-end">
                    <button type="button" id="btnSair" class="btn btn-warning">
                        SAIR
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">Perfil do Usuário</h3>
                    </div>
                    <div class="card-body">
                        <div class="text-center mb-4">
                            <img src="./assets/perfil.png" class="rounded-circle profile-img" width="150" height="150">
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <h5>Nome Completo:</h5>
                                <p id="userName" class="text-muted">Carregando...</p>
                            </div>
                            <div class="col-md-6">
                                <h5>Email:</h5>
                                <p id="userEmail" class="text-muted">Carregando...</p>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <h5>Telefone:</h5>
                                <p id="userPhone" class="text-muted">Carregando...</p>
                            </div>
                            <div class="col-md-6">
                                <h5>Data de Nascimento:</h5>
                                <p id="userBirthDate" class="text-muted">Carregando...</p>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between mt-4">
                            <button type="button" id="btnEditProfile" class="btn btn-primary">
                                <i class="bi bi-pencil-fill"></i> Editar Perfil
                            </button>
                            <button type="button" id="btnDeleteAccount" class="btn btn-danger">
                                <i class="bi bi-trash-fill"></i> Excluir Conta
                            </button>
                        </div>

                        <div id="editForm" class="mt-4 hidden">
                            <hr>
                            <h4 class="mb-3">Editar Perfil</h4>
                            <form id="profileForm">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="editName" class="form-label">Nome Completo</label>
                                        <input type="text" class="form-control" id="editName" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="editEmail" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="editEmail" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="editPhone" class="form-label">Telefone</label>
                                        <input type="text" class="form-control" id="editPhone" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="editBirthDate" class="form-label">Data de Nascimento</label>
                                        <input type="date" class="form-control" id="editBirthDate" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="editPassword" class="form-label">Nova Senha (deixe em branco para não alterar)</label>
                                    <input type="password" class="form-control" id="editPassword">
                                </div>
                                <div class="d-flex justify-content-end gap-2">
                                    <button type="button" id="btnCancelEdit" class="btn btn-secondary">
                                        Cancelar
                                    </button>
                                    <button type="submit" class="btn btn-success">
                                        Salvar Alterações
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="card shadow mt-4">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">Meus Itens</h3>
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="myItemsTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="available-tab" data-bs-toggle="tab" data-bs-target="#available" type="button" role="tab">Disponíveis</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="donated-tab" data-bs-toggle="tab" data-bs-target="#donated" type="button" role="tab">Doados</button>
                            </li>
                        </ul>
                        <div class="tab-content mt-3" id="myItemsTabContent">
                            <div class="tab-pane fade show active" id="available" role="tabpanel">
                                <div class="row" id="availableItems">
                                    <!-- Itens disponíveis serão carregados aqui -->
                                    <div class="col-12 text-center py-4">
                                        <p class="text-muted">Nenhum item disponível no momento.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="donated" role="tabpanel">
                                <div class="row" id="donatedItems">
                                    <!-- Itens doados serão carregados aqui -->
                                    <div class="col-12 text-center py-4">
                                        <p class="text-muted">Nenhum item doado ainda.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação de Exclusão -->
    <div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="confirmDeleteModalLabel">Confirmar Exclusão</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Tem certeza que deseja excluir sua conta permanentemente? Esta ação não pode ser desfeita.</p>
                    <div class="mb-3">
                        <label for="confirmPassword" class="form-label">Digite sua senha para confirmar:</label>
                        <input type="password" class="form-control" id="confirmPassword" required>
                        <div class="invalid-feedback" id="passwordError">
                            Senha incorreta
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" id="btnConfirmDelete" class="btn btn-danger">Excluir Conta</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white mt-5 py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>TechShare</h5>
                    <p>Conectando pessoas através da tecnologia.</p>
                </div>
                <div class="col-md-3">
                    <h5>Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="./index.html" class="text-white">Home</a></li>
                        <li><a href="./donate.html" class="text-white">Doar</a></li>
                        <li><a href="./receive.html" class="text-white">Receber</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Contato</h5>
                    <ul class="list-unstyled">
                        <li>contato@techshare.com</li>
                        <li>(51) 3030-3030</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p class="mb-0">&copy; 2023 TechShare. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="./js/bootstrap.bundle.min.js"></script>
    <script src="./js/perfil.js" type="module"></script>
</body>
</html>